<ë¶€ì„œ ì—…ë¬´í•¨ ë©”ë‰´ - íŠ¸ë¦¬ êµ¬ì¡°>
[ app.vue ì¤‘ì‹¬ ]
<template>
  <div class="sidebar">
    <ul>
      <TreeNode
        v-for="dept in rootDepartments"
        :key="dept.deptCd"
        :dept="dept"
        :departments="departments"
        :jobBoxes="jobBoxes"
      />
    </ul>
  </div>
</template>

<script setup>
import { computed } from 'vue';
import TreeNode from './TreeNode.vue';

// ë¶€ì„œ ë°ì´í„°
const departments = [
  { deptCd: 1, depth: 1, parentCd: null, deptNm: "ê²½ì˜ì§€ì›" },
  { deptCd: 2, depth: 2, parentCd: 1, deptNm: "ì¸ì‚¬íŒ€" },
  { deptCd: 3, depth: 2, parentCd: 1, deptNm: "ì¬ë¬´íŒ€" },
  { deptCd: 4, depth: 1, parentCd: null, deptNm: "ì˜ì—…ë¶€" },
  { deptCd: 5, depth: 2, parentCd: 4, deptNm: "êµ­ë‚´ì˜ì—…íŒ€" },
  { deptCd: 6, depth: 2, parentCd: 4, deptNm: "í•´ì™¸ì˜ì—…íŒ€" },
];

// ì—…ë¬´í•¨ ë°ì´í„°
const jobBoxes = [
  { jobBxCd: 1, deptCd: 1, jobBxNm: "ê²½ì˜ ê¸°íš ì—…ë¬´" },
  { jobBxCd: 2, deptCd: 2, jobBxNm: "ì±„ìš© ì—…ë¬´" },
  { jobBxCd: 3, deptCd: 3, jobBxNm: "íšŒê³„ ì—…ë¬´" },
  { jobBxCd: 4, deptCd: 5, jobBxNm: "êµ­ë‚´ ë§ˆì¼€íŒ…" },
  { jobBxCd: 5, deptCd: 6, jobBxNm: "í•´ì™¸ ë§ˆì¼€íŒ…" },
];

// ìµœìƒìœ„ ë¶€ì„œ ì°¾ê¸° (parentCdê°€ nullì¸ ë¶€ì„œ)
const rootDepartments = computed(() =>
  departments.filter(dept => dept.parentCd === null)
);
</script>

<style scoped>
.sidebar {
  width: 250px;
  background: #f8f9fa;
  padding: 10px;
  border-right: 1px solid #ddd;
}
ul {
  list-style: none;
  padding-left: 15px;
}
li {
  margin: 5px 0;
}
</style>



[ íŠ¸ë¦¬ë…¸ë“œ ì¤‘ì‹¬ ]
<template>
  <li>
    <span>{{ dept.deptNm }}</span>
    <ul v-if="children.length || deptJobBoxes.length">
      <TreeNode
        v-for="child in children"
        :key="child.deptCd"
        :dept="child"
        :departments="departments"
        :jobBoxes="jobBoxes"
      />
      <li v-for="job in deptJobBoxes" :key="job.jobBxCd">
        ğŸ“ {{ job.jobBxNm }}
      </li>
    </ul>
  </li>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  dept: Object,
  departments: Array,
  jobBoxes: Array,
});

// í•´ë‹¹ ë¶€ì„œì˜ í•˜ìœ„ ë¶€ì„œ ì°¾ê¸°
const children = computed(() =>
  props.departments.filter(d => d.parentCd === props.dept.deptCd)
);

// í•´ë‹¹ ë¶€ì„œì˜ ì—…ë¬´í•¨ ì°¾ê¸°
const deptJobBoxes = computed(() =>
  props.jobBoxes.filter(j => j.deptCd === props.dept.deptCd)
);
</script>

<style scoped>
span {
  font-weight: bold;
  cursor: pointer;
}
li {
  margin: 5px 0;
}
</style>


ì²« ë²ˆì§¸ ë°©ì‹ì€ App.vueì—ì„œ íŠ¸ë¦¬ì˜ ë£¨íŠ¸ë¥¼ ë¯¸ë¦¬ ì •ë¦¬í•˜ëŠ” ë°©ì‹
ë‘ ë²ˆì§¸ ë°©ì‹ì€ TreeNode.vueê°€ ì•Œì•„ì„œ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ì–´ ë‚˜ê°€ëŠ” ë°©ì‹
